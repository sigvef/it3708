\documentclass[a4paper]{article}

\usepackage[utf8]{inputenc}
\usepackage{fancyhdr}
\usepackage{float}
\usepackage{graphicx}
\usepackage{varioref}
\usepackage{url}
\usepackage[margin=1em]{subfig}
\usepackage{pgfplots}
\usepackage{tikz}
\usetikzlibrary{arrows}
\usetikzlibrary{positioning}
\pagestyle{fancy}
\graphicspath{{img/}}
\renewcommand\thepart{\Alph{part}}
\pgfplotsset{compat=1.5}

\newcommand\TODO[1]{\textcolor{red}{TODO:#1}}
\newcommand\todo[1]{\TODO{#1}}

\title{Homework Module: A Controller for Swarm Behaviour in Webots}

\lhead{Homework Module \#1}
\rhead{IT3708 - Subsymbolic Methods in AI}

\author{
    Aleksander Burkow \\
    Sigve Sebstian Farstad \\
    Emil Gr√∏nnbeck
}

\begin{document}

\maketitle
\thispagestyle{empty}

\abstract{
This report presents a solution for Homework Module \#1 of IT3708, spring 2014 at NTNU.
The purpose of the homework module is to ``understand swarm behaviour by implementing a controller for box pushing task in Webots''~\cite{assignment}.
}

\newpage
\setcounter{page}{1}

\part{Introduction}

As demands for ever-growing 
Swarm robotics is a field that capitalizes on self-organization to generate interesting global patterns from interactions among relatively simple robots, all in the absence of centralized control. 

\section{Brooks Architecture}
The implemented system is based on an AI concept called subsumption architecture.
Subsumption architecture was first described by Rodney Brooks in 1986~\cite{brooks}.
The idea behind subsumption architecture came from insects.
Insects though with relatively little computational power, is able to walk, avoid obstacles, and make desicions faster than any robot created.
The architecture is divided into layers called: "the levels of competence".
Each layer is  independent of each other, where the higher levels are capable of overriding the lower.~\cite{mwarnerwu}
The highest stimulated behaviour is acted upon ~\cite{berg-karud}.

\section{Webots}
\section{The Epuck}

\begin{figure}[H]
\centering
\includegraphics[scale=0.2]{e-puck_sensors_and_leds.png}
\caption{E-puck robot with all sensors}
\end{figure}

\part{The Proposed System}

\section{Description}

The initial proposed system is based on the subsumption approach suggested in \cite{assignment}.
The "levels of competence" are divided into six independent behaviours: Wander, Avoid obstacles, Converge, Retrieve, and Reposition.
The lower levels have a higher priority and are able to override the higher ones.
Figure \vref{figure:subsumption} shows the subsumption hierarchy.

\input{subsumption.tex}

\subsection{Behaviours}

Each of the behaviours of the proposed system are described in detail here.

\subsubsection{Wander}
Wander is the default behaviour.
It tells the agent to move straight forward as fast as possible, regardless of input.

\subsubsection{Avoid obstacles}
This behaviour is intended to save the agent from harmful collisions.
It is triggered when the agent's proximity sensors rise above a certain threshold, indicating that it's close to or about to hit a wall.
The rotational angle of the agent is then set proportional to the difference between the amount of obstacles on either side of the agent.
The closer the wall is on the right side, the harder the agent will turn to the left, and vice versa.
This technique is called Braitenberg avoidance~\cite{braitenberg}.

\subsubsection{Converge}
This behaviour is intended to let agents converge on a food location.
It is triggered when the sum of the agent's light sensors rise above a certain threshold, indicating that food is nearby.
The rotational angle of the agent is set in proportion to the amount of light on either side, making the agent heads towards the food, aligning it with the surface normal of the food for maximum force.

\subsubsection{Retrieve}
This behaviour is intended to let agents push food to a goal area, and is triggered when the agent detects that food is right in front of it.
It will try to align the agent with the surface-normal of the object, such that maximum force will be exerted upon it.

It subsumes the obstacle avoidance behaviour, letting the agent push the food.

\subsubsection{Reposition}
This behaviour is intended to let agents to move out of potentially poor retrieval positions.
It is enabled when the agent has found food, and is trying to bring it home.

A problem that commonly occurs is that the agents are trying to push the food from opposing sides, and therefore getting nowhere.
The reposition behaviour simply says that after $ N $ seconds of retrieval, the agent will try to push somewhere else nearby.

This exponential backoff-inspired behaviour allows the agents to reposition themselves reasonably efficiently.

\section{Simulation Results}


\subsection{Observed weaknesses}
\subsubsection{No incentive for teamwork}
In the current architecture, the reposition behaviour blindly sends the robot away after it has been pushing the food for a fixed amount of time.

This does not entice teamwork, as robots who by chance are pushing on the same side have equal chance of repositioning themselves as robots who are blindly pushing from some unproductive angle.

This results in robots not intentionally clustering together, making food retrieval more luck-of-the-draw based than a coordinated operation.

\subsubsection{Getting stuck}
In this implementation, the robots have a tendency to get stuck in a few different ways:

\begin{itemize}
	\item Two robots driving straight into each other
	\item Getting stuck behind boxes
	\item Poor sensor calibration sometimes leads to robots not avoiding walls when food is nearby
	\item Rolling on their sides
\end{itemize}

\part{An Improved System}

\section{Description}



\section{Simulation Results}
\part{A More Advanced Architecture}

\section{Description}
\section{Simulation Results}


\input{measurements/histogram.tex}

\begin{figure}[H]
\centering
\includegraphics[scale=0.5]{one-box-world.png}
\caption{World used in the simulation for Table 1}
\end{figure}

\input{subsumption2.tex}

\newpage
\pagenumbering{gobble}
\bibliography{reference-library}
\bibliographystyle{plain}

\end{document}
